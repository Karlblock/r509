===============================================
  INFORMATIONS PROXY IUT - Configuration C3
===============================================

üìã PARAM√àTRES PROXY
-------------------
Adresse IP   : 192.168.0.2
Port         : 3128
Authentification : OUI (requis)
Identifiants : Compte C3 de Proxmox (PAS les identifiants IUT des √©tudiants)

Format complet :
http://c3user:c3password@192.168.0.2:3128

NO_PROXY (r√©seaux √† exclure) :
localhost,127.0.0.1,.local,.cluster.local,192.168.0.0/16

===============================================
‚ö° CONFIGURATION RAPIDE
===============================================

1. Ex√©cuter le script automatique :
   cd ~/IUT/r509/TPs/TP2
   ./configure-proxy.sh

2. Entrer les identifiants du COMPTE C3 PROXMOX quand demand√©

3. V√©rifier la configuration :
   source ~/.bashrc
   proxy-check

===============================================
‚ö†Ô∏è  POINTS CRITIQUES
===============================================

‚úÖ Proxy Docker daemon : ACTIV√â
   (pour t√©l√©charger les images depuis Internet)

‚ùå Proxy variables shell : D√âSACTIV√â
   (Kind/kubectl ne fonctionnent PAS avec proxy)

===============================================
üìÅ FICHIERS DE CONFIGURATION
===============================================

/etc/apt/apt.conf.d/95proxies
  ‚Üí Proxy pour APT (t√©l√©chargement packages)

/etc/systemd/system/docker.service.d/http-proxy.conf
  ‚Üí Proxy pour Docker daemon (pull images)
  ‚Üí Accessible root uniquement

~/.docker/config.json
  ‚Üí Proxy pour conteneurs Docker (optionnel)

~/.bashrc
  ‚Üí Alias proxy-on, proxy-off, proxy-check

===============================================
üîß COMMANDES UTILES
===============================================

proxy-off      D√©sactiver proxy shell (TOUJOURS pour K8s)
proxy-on       Activer proxy shell (rarement n√©cessaire)
proxy-check    V√©rifier configuration compl√®te
proxy-status   Afficher √©tat actuel

V√©rifications manuelles :
- Variables shell (doivent √™tre VIDES) :
  env | grep -i proxy

- Proxy Docker (doit √™tre CONFIGUR√â) :
  sudo systemctl show --property=Environment docker | grep PROXY

===============================================
üêõ PROBL√àMES FR√âQUENTS
===============================================

Pods en "ImagePullBackOff" :
  ‚Üí Proxy Docker mal configur√©
  ‚Üí Solution : ./configure-proxy.sh

Kind ne d√©marre pas :
  ‚Üí Variables proxy actives
  ‚Üí Solution : proxy-off

kubectl tr√®s lent :
  ‚Üí Variables proxy actives
  ‚Üí Solution : proxy-off

===============================================
üìñ DOCUMENTATION
===============================================

Guide rapide       : PROXY_CONFIG_IUT.md
Guide complet      : PROXY_GUIDE.md
Installation TP01  : INSTALL_TP1_RAPIDE.md
Installation TP02  : INSTALL_TP2_RAPIDE.md
Point d'entr√©e     : START_HERE.md

===============================================
‚ú® M√âMO IMPORTANT
===============================================

Les identifiants du proxy sont ceux du COMPTE C3 DE PROXMOX
PAS les identifiants IUT personnels des √©tudiants !

Format √† utiliser dans les configs :
http://c3user:c3password@192.168.0.2:3128

Remplacer c3user et c3password par les vraies valeurs du compte C3

===============================================
